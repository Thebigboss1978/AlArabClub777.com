<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="timeless">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>بوابة التاريخ — Cyber-Pyramid Tourist | AlArab Neo-Club (2125)</title>
<meta name="description" content="نسخة مستقبلية 2125 — بوابة سفر زمني رقمية — تصميم من المستقبل إلى الأمام 100 سنة." />
<style>
  /* -------------------------
     FUTURE CORE — Year 2125
     Minimal external deps — single file.
     Visual intent: ذهبية ماتريكس + بوابة زمنية عابرة للأبعاد
     ------------------------- */
  :root {
    --bg-1: #02021a;
    --bg-2: #0b0626;
    --neon-a: #00ffd5;
    --neon-b: #ffd966;
    --muted: #b8b0a5;
    --glass: rgba(255, 255, 255, 0.04);
    --accent-glow: 0 10px 40px rgba(255, 217, 102, 0.08), inset 0 -8px 24px rgba(0, 0, 0, 0.35);
    --gold-matrix: #ffd966;
    --ui-radius: 16px;
    --year: '2125';
  }
  /* Reset + base */
  * { box-sizing: border-box; }
  html, body { height: 100%; }
  body {
    margin: 0;
    font-family: "Inter var", "Noto Kufi Arabic", "Segoe UI", system-ui, Arial, sans-serif;
    background: radial-gradient(800px 400px at 12% 10%, rgba(0, 30, 40, 0.22), transparent),
                linear-gradient(180deg, var(--bg-1), var(--bg-2));
    color: var(--neon-a);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-y: auto;
    -webkit-tap-highlight-color: transparent;
    padding-bottom: 96px;
    position: relative;
  }
  /* GOLDEN MATRIX LAYER — animated vertical streaming glyphs */
  .gold-matrix {
    pointer-events: none;
    position: fixed; inset: 0; z-index: 0;
    mix-blend-mode: screen;
    background-image: linear-gradient(180deg, rgba(3, 3, 6, 0.22), rgba(0, 0, 0, 0.0));
    overflow: hidden;
  }
  .gold-matrix .column {
    position: absolute; top: -110%; width: 1.6rem; text-align: center;
    color: rgba(255, 217, 102, 0.12);
    font-family: "Noto Sans Symbols", "Segoe UI Symbol", monospace;
    letter-spacing: 6px; transform: translateZ(0);
    text-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
    will-change: transform, opacity;
    animation: matrixFall linear infinite;
    mix-blend-mode: screen;
    font-weight: 700;
  }
  @keyframes matrixFall {
    from { transform: translateY(-110%) rotate(2deg); opacity: 0; }
    30% { opacity: 1; }
    to { transform: translateY(120%) rotate(-2deg); opacity: 0; }
  }
  /* CHRONO PORTAL — blurred glowing SVG */
  .chronosky { position: fixed; inset: 0; z-index: 1; pointer-events: none; }
  .chronoport {
    position: absolute; left: 50%; top: 8%;
    transform: translateX(-50%) perspective(900px) rotateX(16deg);
    width: 880px; height: 420px; max-width: 95%;
    filter: blur(10px) saturate(140%); opacity: 0.9;
  }
  /* Header */
  header {
    z-index: 8; position: relative; padding: 22px 28px; display: flex; gap: 18px;
    align-items: center; justify-content: space-between;
  }
  .brand { display: flex; gap: 14px; align-items: center; }
  .logo {
    width: 76px; height: 76px; border-radius: 20px;
    background: linear-gradient(135deg, var(--neon-b), #ffb84d 60%, var(--neon-a));
    display: flex; align-items: center; justify-content: center;
    box-shadow: var(--accent-glow);
    transform: rotate(9deg);
  }
  .logo svg { width: 46px; height: 46px; filter: drop-shadow(0 6px 16px rgba(0, 0, 0, 0.6)); }
  .brand h1 { margin: 0; font-size: 18px; letter-spacing: 0.6px; color: #fff; }
  .brand p { margin: 0; font-size: 12px; color: var(--muted); }
  nav { display: flex; gap: 12px; align-items: center; }
  .navlink {
    color: rgba(255, 255, 255, 0.92); text-decoration: none; padding: 10px 14px; border-radius: 12px;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
    border: 1px solid rgba(255, 255, 255, 0.03); font-size: 13px; transition: transform .16s ease;
  }
  .navlink:hover { transform: translateY(-4px) scale(1.02); }
  /* Container grid */
  .container {
    position: relative; z-index: 6; max-width: 1200px; margin: 18px auto 120px; padding: 20px;
    display: grid; grid-template-columns: 1fr 440px; gap: 26px;
  }
  /* Hero */
  .hero-panel {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
    border-radius: 20px; padding: 28px; box-shadow: 0 18px 60px rgba(2, 6, 23, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.02); overflow: hidden; position: relative;
  }
  .hero-title { font-size: 24px; margin: 0; color: #fff; }
  .hero-subtitle { font-size: 14px; color: var(--muted); margin-top: 8px; }
  .guide-rating { font-size: 13px; color: var(--muted); }
  .visual-gateway {
    margin-top: 18px; border-radius: 16px; height: 360px; overflow: hidden; position: relative;
    background: radial-gradient(800px 280px at 50% 40%, rgba(0, 255, 213, 0.06), transparent 20%),
                linear-gradient(180deg, rgba(8, 2, 36, 0.6), rgba(36, 12, 36, 0.45));
    border: 1px solid rgba(255, 255, 255, 0.02);
    display: flex; align-items: center; justify-content: center;
  }
  /* 3D pseudo-cube + rotating rings (pure CSS illusion) */
  .portal-scene { position: relative; width: 78%; height: 78%; display: flex; align-items: center; justify-content: center; }
  .ring {
    position: absolute; border-radius: 50%;
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.6), inset 0 -6px 18px rgba(255, 217, 102, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.03);
    animation: spin linear infinite;
  }
  .ring.r1 { width: 360px; height: 360px; transform: rotateX(56deg) rotate(15deg); animation-duration: 24s; border: 2px dashed rgba(255, 217, 102, 0.06); }
  .ring.r2 { width: 250px; height: 250px; transform: rotateX(60deg); animation-duration: 18s; }
  .ring.r3 { width: 140px; height: 140px; transform: rotateX(68deg); animation-duration: 12s; background: radial-gradient(circle at 30% 30%, rgba(0, 255, 213, 0.06), transparent 40%); }
  @keyframes spin { from { transform: rotate(0deg) rotateX(56deg); } to { transform: rotate(360deg) rotateX(56deg); } }
  .portal-core {
    width: 88px; height: 88px; border-radius: 50%;
    background: conic-gradient(from 90deg, rgba(255, 217, 102, 0.12), rgba(0, 255, 213, 0.12));
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 12px 36px rgba(0, 255, 213, 0.06), 0 0 40px rgba(255, 217, 102, 0.02);
    font-weight: 800; color: #030312; font-size: 13px; backdrop-filter: blur(6px);
  }
  .tour-features { display: flex; gap: 12px; margin-top: 18px; flex-wrap: wrap; }
  .feature-chip { flex: 1 1 180px; background: var(--glass); padding: 12px; border-radius: 12px; font-size: 13px; color: var(--muted); border: 1px solid rgba(255, 255, 255, 0.02); }
  .gallery-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 16px; }
  .gallery-orb { height: 84px; border-radius: 12px; background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01)); display: flex; align-items: center; justify-content: center; font-size: 13px; color: var(--muted); border: 1px solid rgba(255, 255, 255, 0.02); }
  .price-orb { font-weight: 900; font-size: 20px; background: linear-gradient(90deg, var(--neon-b), #b88b00); padding: 10px 14px; border-radius: 12px; color: #030312; display: inline-block; }
  /* Booking module */
  .booking-module {
    position: sticky; top: 28px; background: linear-gradient(180deg, rgba(4, 20, 36, 0.7), rgba(2, 6, 20, 0.55));
    padding: 22px; border-radius: 18px; border: 1px solid rgba(255, 255, 255, 0.03); height: max-content; box-shadow: 0 8px 40px rgba(2, 6, 23, 0.6);
  }
  label { display: block; margin-top: 12px; font-size: 13px; color: var(--muted); }
  .data-field { width: 100%; padding: 12px; border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.04); background: rgba(255, 255, 255, 0.016); color: inherit; font-size: 14px; margin-top: 8px; }
  textarea.data-field { min-height: 110px; resize: vertical; }
  .teleport-btn {
    display: block; width: 100%; padding: 14px 18px; border-radius: 14px; border: 0; margin-top: 16px; font-weight: 900; cursor: pointer;
    background: linear-gradient(90deg, var(--neon-a), #00c299); color: #02131a; font-size: 15px; box-shadow: 0 14px 40px rgba(0, 255, 213, 0.06);
  }
  .small { font-size: 13px; color: var(--muted); margin-top: 10px; }
  .muted { opacity: 0.8; color: var(--muted); }
  /* Floating action */
  .float-teleport {
    position: fixed; z-index: 9; bottom: 20px; left: 20px; background: linear-gradient(180deg, var(--neon-b), #ffbf55); color: #231804;
    padding: 14px 18px; border-radius: 999px; font-weight: 900; box-shadow: 0 16px 48px rgba(14, 0, 96, 0.65); display: flex; gap: 10px; align-items: center; text-decoration: none;
    border: 1px solid rgba(0, 0, 0, 0.08);
  }
  footer {
    margin: 32px auto 64px; max-width: 1200px; color: var(--muted); display: flex; justify-content: space-between; gap: 12px; padding: 0 20px;
  }
  /* Quantum glyphs animations (JS spawns) */
  .quantum-glyph { position: fixed; z-index: 99999; pointer-events: none; font-size: 20px; opacity: 0.98; transform: translateY(0) rotate(20deg); animation: quantumFloat 2000ms ease-out forwards; color: var(--neon-b); text-shadow: 0 6px 18px rgba(0, 0, 0, 0.6); }
  @keyframes quantumFloat { to { transform: translateY(-150px) rotate(10deg) scale(0.6); opacity: 0; } }
  /* responsive */
  @media (max-width: 1080px) {
    .container { grid-template-columns: 1fr; padding: 14px; }
    .booking-module { position: relative; top: auto; }
    .chronoport { top: 6%; }
  }
  /* subtle focus rings for accessibility */
  :focus { outline: none; box-shadow: 0 0 0 4px rgba(0, 255, 213, 0.08), 0 8px 30px rgba(0, 0, 0, 0.6); border-radius: 10px; }
</style>
</head>
<body>

<div class="gold-matrix" aria-hidden="true" id="goldMatrix"></div>

<div class="chronosky" aria-hidden="true">
  <div class="chronoport" role="presentation" aria-hidden="true">
    <svg viewBox="0 0 1600 800" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <defs>
        <radialGradient id="g2" cx="45%" cy="45%" r="70%">
          <stop offset="0%" stop-color="#00ffd5" stop-opacity="0.22"/>
          <stop offset="60%" stop-color="#ffd966" stop-opacity="0.12"/>
          <stop offset="100%" stop-color="#0b0710" stop-opacity="0.0"/>
        </radialGradient>
        <filter id="softBlur" x="-20%" y="-20%" width="140%" height="140%">
          <feGaussianBlur stdDeviation="18" result="b"/>
          <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
      </defs>
      <rect width="100%" height="100%" fill="url(#g2)" />
      <g transform="translate(200, 120) scale(1.18)" opacity="0.86" filter="url(#softBlur)">
        <circle cx="500" cy="150" r="220" fill="none" stroke="rgba(255, 255, 255, 0.06)" stroke-width="18"/>
        <g fill="#ffd966" opacity="0.12">
          <polygon points="150, 600 420, 160 690, 600"/>
          <polygon points="450, 600 720, 200 990, 600"/>
        </g>
      </g>
    </svg>
  </div>
</div>

<header>
  <div class="brand" role="banner">
    <div class="logo" aria-hidden="true">
      <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M32 6 L6 52 H58 Z" fill="#0b0810" stroke="#4a3b2a" stroke-width="1.5"/>
        <circle cx="32" cy="22" r="10" fill="#00ffd5" opacity="0.96"/>
      </svg>
    </div>
    <div>
      <h1>بوابة الحاضر والماضـي—Edge of History</h1>
      <p>Cyber-Pyramid Tourist • دليل الزمن — AlArab Neo-Club · <span title="future year">سنة: 2125</span></p>
    </div>
  </div>

  <nav aria-label="روابط الفضاء الزمني">
    <a class="navlink" href="#packages-list">التجارب</a>
    <a class="navlink" href="#booking-form">احجز الآن</a>
    <a class="navlink" href="#contact-info">تواصل</a>
  </nav>
</header>

<main class="container" id="main">
  <section class="hero-panel" aria-labelledby="hero-title">
    <div class="hero-header" style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
      <div>
        <h2 id="hero-title" class="hero-title">بوابة السفر الزمني — اكتشف جوهرك الخالد (Find your eternal essence)</h2>
        <p class="hero-subtitle">جولات عبر الأبعاد، رحلة هرمية بتقنية الـHolo-Echo، مروحية زمنية، وتجارب ثقافية مع العرّاب.</p>
      </div>
      <div class="guide-rating" aria-hidden="true">⭐ تقييم المرشد: <strong style="color:#fff">4.98</strong> — خبرة تمتد عبر العصور</div>
    </div>

    <a class="visual-gateway" href="#gallery-grid" aria-hidden="true" title="شاهد البوابة">
      <div class="portal-scene" role="img" aria-label="بوابة زمنية ثلاثية الأبعاد">
        <div class="ring r" aria-hidden="true"></div>
        <div class="ring r2" aria-hidden="true"></div>
        <div class="ring r3" aria-hidden="true"></div>
        <div class="portal-core" aria-hidden="true">البوابة</div>
      </div>
    </a>

    <div class="tour-features" role="list" aria-label="مميزات الرحلة">
      <div class="feature-chip" role="listitem">نقطة الانطلاق: AlArab Neo-Club Station</div>
      <div class="feature-chip" role="listitem">المدة: نصف دورة زمنية / دورة كاملة</div>
      <div class="feature-chip" role="listitem">لغات: العربية، الإنجليزية، استقبال آلي متعدد الأزمان</div>
      <div class="feature-chip" role="listitem">مناسب للمسافرين عبر الزمن والعائلات الروحانية</div>
    </div>

    <div id="packages-list" style="margin-top:22px;">
      <h3 style="margin:6px 0 12px; color:var(--neon-b);">باقات Cyber-Pyramid (وُضعت بأسلوب 2125)</h3>
      <div style="display:grid; gap:12px;">
        <article class="package-frame" style="padding:14px; border-radius:14px; background:rgba(255, 255, 255, 0.018); border:1px solid rgba(255, 255, 255, 0.02);">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <div><strong>باقة نصف دورة زمنية</strong><div class="muted">جولة هادئة - زيارة هرم + صور ثلاثية الأبعاد</div></div>
            <div class="price-orb">500 USD</div>
          </div>
        </article>

        <article class="package-frame" style="padding:14px; border-radius:14px; background:rgba(255, 255, 255, 0.018); border:1px solid rgba(255, 255, 255, 0.02);">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <div><strong>باقة الدورة الكاملة</strong><div class="muted">هرم + رحلة بالمروحية الزمنية + غروب فضائي</div></div>
            <div class="price-orb">950 USD</div>
          </div>
        </article>

        <article class="package-frame" style="padding:14px; border-radius:14px; background:rgba(255, 255, 255, 0.018); border:1px solid rgba(255, 255, 255, 0.02);">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <div><strong>تجربة العائلة الزمنية</strong><div class="muted">نشاطات للأطفال الكوانتيين + تصوير هولوغرامي</div></div>
            <div class="price-orb">1300 USD</div>
          </div>
        </article>
      </div>
    </div>

    <div id="gallery-grid" style="margin-top:20px;">
      <h3 style="margin:6px 0 12px; color:var(--neon-a);">معرض زمني</h3>
      <div class="gallery-grid" role="list" aria-label="صور الرحلات">
        <div class="gallery-orb" role="listitem">صورة من المستقبل</div>
        <div class="gallery-orb" role="listitem">صورة من الحاضر</div>
        <div class="gallery-orb" role="listitem">صورة من الماضي</div>
        <div class="gallery-orb" role="listitem">صورة من البعد الرابع</div>
        <div class="gallery-orb" role="listitem">هولو-شوت عائلي</div>
        <div class="gallery-orb" role="listitem">بين الأهرامات والنجوم</div>
      </div>
    </div>
  </section>

  <aside class="booking-module" id="booking-form" aria-labelledby="booking-title">
    <h3 id="booking-title">نموذج الحجز — Cyber-Pyramid Tourist</h3>
    <div class="small muted" role="status" aria-live="polite">املأ البيانات وسنرسل تأكيدًا عبر الفضاء الرقمي / واتساب الجيل الخامس.</div>

    <label for="package">اختر التجربة</label>
    <select id="package" name="package" aria-label="الباقة" class="data-field">
      <option value="half">باقة نصف دورة زمنية — 500 USD</option>
      <option value="full">باقة الدورة الكاملة — 950 USD</option>
      <option value="family">تجربة العائلة الزمنية — 1300 USD</option>
    </select>

    <label for="date">تاريخ السفر الزمني</label>
    <input id="date" type="date" class="data-field" aria-required="true"/>

    <label for="name">الاسم الكوانتي</label>
    <input id="name" type="text" placeholder="اسم كامل أو المعرف الكوانتي" class="data-field" />

    <label for="people">عدد الأرواح</label>
    <input id="people" type="number" min="1" value="2" class="data-field" />

    <label for="notes">ملاحظات / نقطة الانطلاق</label>
    <textarea id="notes" placeholder="اكتب ملاحظات أو موقع الانطلاق (مثال: محطة تايم وورب، القطاع ألفا)" class="data-field"></textarea>

    <button id="teleportBtn" class="teleport-btn" type="button" aria-label="احجز الآن">احجز الآن — أرسل إشارة واتساب</button>

    <div class="small muted" style="margin-top:10px;">
      أو تواصل عبر: <strong id="phoneDisplay">+201002446123</strong>
    </div>

    <div id="contact-info" style="font-size:13px; margin-top:18px;">
      <strong>- AlArab — العرّاب المرشد الزمني</strong>
      <div class="muted">خبرة فائقة، مرشد موثوق. هاتِف الطوارئ: <span class="muted">+201002446123</span></div>
    </div>
  </aside>
</main>

<a class="float-teleport" href="#booking-form" aria-label="زر الحجز السريع">
  احجز الآن
  <svg width="18" height="18" viewBox="0 0 24 24" style="transform: translateY(1px);" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
    <path d="M2 12h20M12 2v20" stroke="#0b0810" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
  </svg>
</a>

<footer>
  <div>© <strong>Edge of History Portal</strong> — Cyber-Pyramid Tourist — <span aria-hidden="true">Declaration 2125</span></div>
  <div class="muted">تم إنشاء الصفحة بواسطة AlArab AI-Legacy — تصميم صادر من المستقبل (2125). عدّل المحتوى والأسعار حسب الحاجة.</div>
</footer>

<script>
  // QuantumState (light) — shared state + small API
  class QuantumState {
    constructor(initial) { this.state = initial || {}; this.listeners = []; }
    getState() { return this.state; }
    setState(patch) { this.state = { ...this.state, ...patch }; this.listeners.forEach(l => l(this.state)); }
    subscribe(fn) { this.listeners.push(fn); return () => this.listeners = this.listeners.filter(x => x !== fn); }
  }
  const tourState = new QuantumState({
    phone: '+201002446123',
    glyphs: ['𓀀', '𓂀', '𓃀', '𓂓', '𓆣', '𓊖', '𓂋', '𓈖', '⚛️', '🪐', '💫', '∴', '∷', '✦']
  });
  // populate phone display
  const phoneDisplay = document.getElementById('phoneDisplay');
  phoneDisplay.textContent = tourState.getState().phone;
  // Helper: clean phone digits
  function cleanPhone(p) { return (p || '').replace(/\\D/g, ''); }
  // Teleport button: build WhatsApp URL (keeps same behavior)
  const teleportBtn = document.getElementById('teleportBtn');
  teleportBtn.addEventListener('click', () => {
    const pkg = document.getElementById('package').value;
    const date = document.getElementById('date').value || 'غير محدد';
    const name = document.getElementById('name').value || 'زائر زمني';
    const people = document.getElementById('people').value || '1';
    const notes = document.getElementById('notes').value || '-';
    const packageLabels = {
      half: 'باقة نصف دورة زمنية — 500 USD',
      full: 'باقة الدورة الكاملة — 950 USD',
      family: 'تجربة العائلة الزمنية — 1300 USD'
    };
    const packageLabel = packageLabels[pkg] || pkg;
    const message = `مرحبًا Neo-Ameer 👋%0Aأرغب بحجز: ${encodeURIComponent(packageLabel)}%0Aتاريخ السفر: ${encodeURIComponent(date)}%0Aالاسم: ${encodeURIComponent(name)}%0Aعدد الأرواح: ${encodeURIComponent(people)}%0Aملاحظات: ${encodeURIComponent(notes)}%0A%0Aموقع الانطلاق: (مثال: محطة تايم وورب...)`;
    const phone = cleanPhone(tourState.getState().phone) || '201002446123';
    const waUrl = `https://wa.me/${phone}?text=${message}`;
    // open in new tab — for future devices uses same link handler
    window.open(waUrl, '_blank');
    // UX feedback — glyphs
    spawnGlyphs(9);
    // persist last booking draft locally (simple safeguard)
    try {
      localStorage.setItem('lastBookingDraft', JSON.stringify({ pkg, date, name, people, notes, ts: Date.now() }));
    } catch (e) {}
  });
  // spawn animated glyphs near random positions (subtle)
  function spawnGlyphs(n = 6) {
    for (let i = 0; i < n; i++) {
      const g = document.createElement('div');
      g.className = 'quantum-glyph';
      const glyphs = tourState.getState().glyphs;
      g.textContent = glyphs[Math.floor(Math.random() * glyphs.length)];
      const x = (12 + Math.random() * (window.innerWidth - 80));
      const y = (80 + Math.random() * (window.innerHeight - 160));
      g.style.left = x + 'px';
      g.style.top = y + 'px';
      g.style.fontSize = (12 + Math.random() * 28) + 'px';
      document.body.appendChild(g);
      setTimeout(() => g.remove(), 2200);
    }
  }
  // mouse subtle glyph manifest
  let lastMove = 0;
  window.addEventListener('mousemove', (e) => {
    const now = Date.now();
    if (now - lastMove > 650 && Math.random() > 0.68) {
      lastMove = now;
      const g = document.createElement('div');
      g.className = 'quantum-glyph';
      const glyphs = tourState.getState().glyphs;
      g.textContent = glyphs[Math.floor(Math.random() * glyphs.length)];
      g.style.left = (e.pageX + (Math.random() * 40 - 20)) + 'px';
      g.style.top = (e.pageY + (Math.random() * 40 - 20)) + 'px';
      g.style.fontSize = (10 + Math.random() * 20) + 'px';
      document.body.appendChild(g);
      setTimeout(() => g.remove(), 1800);
    }
  });
  // NOTES: highlight when user types certain keywords (UX)
  const notesInput = document.getElementById('notes');
  notesInput.addEventListener('input', () => {
    const v = notesInput.value.toLowerCase();
    if (v.includes('محطة') || v.includes('تايم وورب') || v.includes('نقطة زمنية') || v.includes('البوابة')) {
      notesInput.style.borderColor = 'rgba(255, 217, 102, 0.9)';
      setTimeout(() => notesInput.style.borderColor = '', 1600);
    }
  });
  // GOLD MATRIX: generate columns programmatically for variation (responsive safe)
  (function buildGoldMatrix() {
    const container = document.getElementById('goldMatrix');
    if (!container) return;
    const cols = Math.max(8, Math.floor(window.innerWidth / 80));
    const glyphSet = ['#', '𓂀', '𓂋', '⟡', 'ᛣ', '𐌗', '※', '∴', '✦'];
    for (let i = 0; i < cols; i++) {
      const col = document.createElement('div');
      col.className = 'column';
      const left = (i * (100 / cols)) + (Math.random() * 2 - 1);
      col.style.left = left + '%';
      col.style.fontSize = (10 + Math.random() * 12) + 'px';
      col.style.opacity = (0.08 + Math.random() * 0.22);
      col.style.animationDuration = (12 + Math.random() * 22) + 's';
      col.style.top = (-20 - Math.random() * 60) + '%';
      // construct a long string of glyphs
      let str = '';
      const len = 12 + Math.floor(Math.random() * 28);
      for (let j = 0; j < len; j++) {
        str += glyphSet[Math.floor(Math.random() * glyphSet.length)];
      }
      col.textContent = str;
      container.appendChild(col);
    }
  })();
  // Accessibility: focus handling for anchor links
  document.querySelectorAll('a[href^="#"]').forEach(a => {
    a.addEventListener('click', (ev) => {
      const id = a.getAttribute('href').slice(1);
      const el = document.getElementById(id);
      if (el) { el.setAttribute('tabindex', '-1'); el.focus(); }
    });
  });
  // On load: restore last draft into form (if present)
  (function restoreDraft() {
    try {
      const raw = localStorage.getItem('lastBookingDraft');
      if (!raw) return;
      const draft = JSON.parse(raw);
      if (draft.pkg) document.getElementById('package').value = draft.pkg;
      if (draft.date) document.getElementById('date').value = draft.date;
      if (draft.name) document.getElementById('name').value = draft.name;
      if (draft.people) document.getElementById('people').value = draft.people;
      if (draft.notes) document.getElementById('notes').value = draft.notes;
    } catch (e) {}
  })();
  // small progressive enhancement: keyboard shortcut "T" opens booking
  window.addEventListener('keydown', (e) => {
    if (e.key.toLowerCase() === 't' && !e.metaKey && !e.ctrlKey) {
      e.preventDefault();
      const el = document.getElementById('booking-form');
      el.setAttribute('tabindex', '-1'); el.focus();
      spawnGlyphs(6);
    }
  });
  // lightweight telemetry opt-out banner (local-only) — shows once unless dismissed
  (function telemetryBanner() {
    if (localStorage.getItem('telemetryConsent')) return;
    const b = document.createElement('div');
    b.style.position = 'fixed'; b.style.right = '18px'; b.style.bottom = '18px'; b.style.zIndex = 9999;
    b.style.background = 'rgba(0, 0, 0, 0.6)'; b.style.color = '#fff'; b.style.padding = '10px 12px'; b.style.borderRadius = '10px';
    b.style.fontSize = '13px'; b.innerHTML = 'خيارات الخصوصية: إحفظ بيانات الحجز محليًا فقط <button id="teleSave" style="margin-inline-start:8px; padding:6px 8px; border-radius:8px; border:0; cursor:pointer;">حسنا</button>';
    document.body.appendChild(b);
    document.getElementById('teleSave').addEventListener('click', () => {
      localStorage.setItem('telemetryConsent', 'local-only'); b.remove();
    });
  })();
</script>

</body>
</html>
